# AGENTS.md - Power Play Development Guide

## üöÄ Project Overview

**Power Play** is an ice hockey community platform for match management and guest matching. This document provides development guidelines for AI agents.

**Core Values:**
- **i18n (KR/EN)**: Full English support for foreign players in Korea.
- **One-Link Operation**: Manage everything from match creation to team balancing with a single link.
- **KakaoTalk Friendly**: Generate clean, shareable text for KakaoTalk.

## üõ† Tech Stack

- **Framework**: Next.js 16.1.1 (App Router)
- **Language**: TypeScript ^5
- **Style**: Tailwind CSS v4
- **i18n**: `next-intl` ^4.7.0 (Locale prefix: `always`)
- **Database**: Supabase (PostgreSQL) + Supabase Auth
- **Maps**: Naver Maps API (`react-naver-maps`)

---

## üíª Commands

Use `npm run <command>` to execute the following scripts:

| Command | Description |
| :--- | :--- |
| `dev` | Starts the development server (`next dev`). |
| `build` | Creates a production build (`next build`). |
| `start` | Starts a production server (`next start`). |
| `lint` | Runs ESLint to check for code quality issues (`eslint`). |

**Note:** There is no dedicated test script. Ensure code is high quality and manually verify changes.

---

## ‚ö†Ô∏è Critical Development Guidelines

### 1. Timezone (KST Enforcement)
- **Display**: All dates and times must be displayed in Korean Standard Time. Always use `timeZone: "Asia/Seoul"`.
- **Input**: `datetime-local` input values are assumed to be in KST.
- **Storage**: Convert KST inputs to UTC before storing in the database. Use `new Date(input + "+09:00").toISOString()`.

### 2. Admin Protection
- Routes under `/admin` are protected. Access requires `profiles.role === 'admin'`.
- The protection is implemented in the middleware.
- **Exception**: The `/admin-apply` route is public.

### 3. Data Patterns
- **Soft Deletes**: Never permanently delete user profiles. Instead, set the `profiles.deleted_at` timestamp.
- **Parallel Fetching**: For independent data fetching operations, use `Promise.all()` to improve performance.
- **Schema Changes**: All database schema modifications must be logged in `schema_changes.sql`.

---

## üé® Code Style & Patterns

### 1. Naming Conventions
- **Components**: `PascalCase` (e.g., `MatchCard`).
- **Files & Folders**: `kebab-case` (e.g., `match-card.tsx`).
- **Server Actions**: `camelCase` (e.g., `getMatches`).
- **Variables & Functions**: `camelCase`.

### 2. TypeScript
- **Strict Mode**: The project enforces `strict: true`. Avoid `any` and provide explicit types wherever possible. Do not use `@ts-ignore`.
- **Path Aliases**: Use the `@/*` alias for imports from the `src` directory (e.g., `import { createClient } from '@/lib/supabase/server'`).

### 3. Imports
- Follow the standard set by `eslint-config-next`. While not explicitly defined, a good practice is:
  1. React / Next.js imports
  2. External library imports
  3. Internal module imports using path aliases (`@/`)
  4. Relative imports (`../`)
  5. CSS imports

### 4. Component Structure
- Use `"use client";` for components with client-side interactivity.
- Use `useTranslations` from `next-intl` for i18n text.

```typescript
"use client";
import { useTranslations } from "next-intl";

export function ExampleComponent() {
  const t = useTranslations("namespace");
  return <div className="p-4 bg-zinc-100 dark:bg-zinc-800">{t("title")}</div>;
}
```

### 5. Server Actions
- Use `"use server";` at the top of the file.
- Server actions should be defined in `src/app/actions/`.
- Always handle authentication and authorization within the action.

```typescript
"use server";
import { createClient } from "@/lib/supabase/server";

export async function createItem(formData: FormData) {
  const supabase = await createClient();
  // Auth Check...
  // DB Operation...
  return { success: true };
}
```

### 6. Error Handling
- Use try/catch blocks for database operations and API calls.
- Provide meaningful error messages. For user-facing errors, use translations from `next-intl`.

---

## üìÇ Project Structure

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ [locale]/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (public)/          # Main Layout (Home, Login, Profile)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ (admin)/           # Admin Layout (Sidebar)
‚îÇ   ‚îî‚îÄ‚îÄ actions/               # Server Actions (camelCase)
‚îú‚îÄ‚îÄ components/                # UI Components (kebab-case files)
‚îÇ   ‚îú‚îÄ‚îÄ rink-map.tsx           # Naver Map Integration
‚îÇ   ‚îî‚îÄ‚îÄ schedule-view.tsx      # List/Map Toggle & Grouping
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ supabase/              # Client/Server/Middleware clients
‚îî‚îÄ‚îÄ messages/                  # i18n JSON files (ko.json, en.json)
```

---

## üó∫Ô∏è ROADMAP - ÌÇ¨ÎßÅ ÌîºÏ≥ê Í∞úÎ∞ú Í≥ÑÌöç

> Ïπ¥Ïπ¥Ïò§ÌÜ° ÏÇ¨Ïö©Ïûê ÌîºÎìúÎ∞± Í∏∞Î∞ò Í∏∞Îä• Ïö∞ÏÑ†ÏàúÏúÑ (2026.01.13 Ï∂îÏ∂ú)

### üî¥ P0 (ÏµúÏö∞ÏÑ† - 1-2Ï£º ÎÇ¥)

| # | Í∏∞Îä• | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|---|------|------|------|
| 1 | **Ï∫òÎ¶∞Îçî Î∑∞** | ÌïúÎààÏóê Í≤ΩÍ∏∞ ÏùºÏ†ï ÌôïÏù∏. "ÎãπÏû• Ïò§Îäò Ïñ¥ÎäêÎßÅÌÅ¨Ïû• Î™áÏãúÏóê ÎåÄÍ¥ÄÏûàÎäîÏßÄ" Ï∫òÎ¶∞ÎçîÎ°ú Î∞îÎ°ú ÌôïÏù∏ | `[x]` |
| 2 | **Ï†ÑÍµ≠ ÎßÅÌÅ¨Ïû• ÏßÄÎèÑ** | ÌòëÌöåÏÇ¨Ïù¥Ìä∏ÏóêÎèÑ ÏóÜÎäî ÎßÅÌÅ¨Ïû• ÏßÄÎèÑ. ÎÇ¥ ÏúÑÏπò Í∏∞Î∞ò Í∞ÄÍπåÏö¥ ÎßÅÌÅ¨Ïû• Í≤ÄÏÉâ, ÌíÄÎßÅÌÅ¨ + ÎØ∏ÎãàÎßÅÌÅ¨ ÏßÄÏõê | `[x]` |
| 3 | **Ï†ÑÍµ≠ Í≤åÏä§Ìä∏ Îß§Ïπ≠** | ÎèôÌò∏Ìöå ÏãúÏä§ÌÖú Í∏∞Î∞ò Í≤åÏä§Ìä∏ Ï∞∏Ïó¨. ÎèôÌò∏Ìöå ÏÉùÏÑ±/Í∞ÄÏûÖ, Î©§Î≤Ñ/Í≤åÏä§Ìä∏ Íµ¨Î∂Ñ, Ïò®Î≥¥Îî© ÌîåÎ°úÏö∞ | `[x]` |

### üü† P1 (ÌïµÏã¨ - 2-4Ï£º)

| # | Í∏∞Îä• | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|---|------|------|------|
| 4 | **Ìë∏Ïãú ÏïåÎ¶º ÏãúÏä§ÌÖú** | Í¥ÄÎ¶¨ÏûêÍ∞Ä ÎåÄÍ¥Ä ÏÉàÍ≤ΩÍ∏∞ ÏÉùÏÑ±ÌïòÎ©¥ Ïù¥Ïö©ÏûêÌïúÌÖå ÏïåÎ¶º. Î∞¥ÎìúÎßåÎìúÎäîÏö¥ÏòÅÏûêÍ∞Ä Ï§ëÏöîÍ≥µÏßÄ Ïò¨Î†∏ÏùÑÎïåÎßå Ï†ÑÏ≤¥ ÏïåÎ¶º. Í∞úÏù∏Ïù¥ Í∏ÄÏò¨Î¶¨ÎäîÍ±¥ Îî∞Î°ú ÏïåÎ¶ºÏù¥ ÏïàÍ∞ÄÏÑú Ïù¥Ïö©ÏûêÍ∞Ä ÏàòÏãúÎ°ú Îì§Ïñ¥ÏôÄÏÑú ÌôïÏù∏Ìï¥ÏïºÏßÄÎßå ÏïåÏàòÏûàÏùå ‚Üí Ìï¥Í≤∞ | `[x]` (PWA/iOS/Android Í∞ÄÏù¥Îìú ÏôÑÎ£å) |
| 5 | **Ïö¥ÏòÅÏßÑ Í≥µÏßÄ Í¥ÄÎ¶¨** | Í≥µÏßÄÍ∞Ä Ïπ¥ÌÜ° ÎåÄÌôîÏóê Î¨ªÌòÄ ÌúòÎ∞úÎêòÏßÄ ÏïäÎèÑÎ°ù Í≥†Ï†ï Í≥µÏßÄ Í∏∞Îä• | `[x]` (ÎèôÌò∏Ìöå Í≥µÏßÄ) |
| 6 | **Î∞òÎ≥µ Í≤ΩÍ∏∞ ÌÖúÌîåÎ¶ø (Î≥µÎ∂ôÍ∞úÎÖê)** | "Í∞ôÏùÄÏöîÏùº Í∞ôÏùÄÏãúÍ∞Ñ Í∞ôÏùÄÎßÅÌÅ¨Ïû• Îß§Ï£º ÏßÑÌñâÎêòÎäîÍ≤ΩÏö∞Í∞Ä ÎßéÏúºÎãà Í∑∏Í±∏ Î≥µÎ∂ôÍ∞úÎÖê" - Ï†ïÍ∏∞ Í≤ΩÍ∏∞ ÏûêÎèô ÏÉùÏÑ± | `[ ]` |
| 7 | **ÎåÄÍ∏∞Ïûê ÏûêÎèô ÏäπÍ≤©** | Ï∞∏Í∞ÄÏûê Ï∑®ÏÜå Ïãú ÎåÄÍ∏∞Ïûê ÏûêÎèô Ïª®Ìéå + ÏïåÎ¶º | `[ ]` |
| 8 | **Ïã†Ï≤≠Ïûê ÌîÑÎ°úÌïÑ Ï†ïÎ≥¥** | Ïñ¥ÎäêÌåÄ, Í∑∏ÌåÄÏùò ÎîîÎπÑÏ†Ñ, Ï£ºÌè¨ÏßÄÏÖò ÌëúÏãú | `[ ]` |

### üü£ P7. UI/UX ÎîîÏûêÏù∏ ÌÜµÏùº (UI Polish)
- **ÌïÑÌÑ∞ ÎèôÏûë**: ÌäπÏ†ï ÎÇ†Ïßú ÌÅ¥Î¶≠ Ïãú Ìï¥Îãπ ÎÇ†ÏßúÎßå ÌïÑÌÑ∞ÎßÅ. Ï†ÑÏ≤¥ ÌÅ¥Î¶≠ Ïãú ÌïÑÌÑ∞ Ìï¥Ï†ú. ÏßÅÍ¥ÄÏÑ± Í∞úÏÑ†.
- **Ïπ¥Îìú Ïä§ÌÉÄÏùº**: Î™®Îì† Ïπ¥ÎìúÌòï UI(`MatchCard`, `ClubCard` Îì±)Î•º **`rounded-xl`**Î°ú ÌÜµÏùº.
- **Ïù∏ÌÑ∞ÎûôÏÖò**: Hover Ïãú **`border-blue-500` + `shadow-md`** Ìö®Í≥ºÎ•º Í≥µÌÜµ Ï†ÅÏö©ÌïòÏó¨ ÌîÑÎ¶¨ÎØ∏ÏóÑ ÎäêÎÇå Í∞ïÌôî.
- **Î≤ÑÌäº Ïä§ÌÉÄÏùº**: Ï£ºÏöî Î≤ÑÌäºÏùò Í≥°Î•†ÏùÑ `rounded-xl`Î°ú Ï°∞Ï†ïÌïòÏó¨ Ïπ¥ÎìúÏôÄ Ï°∞ÌôîÎ°≠Í≤å Î≥ÄÍ≤Ω.
- **Ìó§Îçî(Header)**:
    - ÏÉÅÎã® Ìè¨Ïù∏Ìä∏ Î∞î Ï†úÍ±∞, Ïò§ÏßÅ Î°úÍ≥†ÏôÄ ÌîÑÎ°úÌïÑ Î©îÎâ¥Îßå Ïú†ÏßÄÌïòÏó¨ ÍπîÎÅîÌï® ÌôïÎ≥¥.
    - ÌîÑÎ°úÌïÑ ÎìúÎ°≠Îã§Ïö¥ Ïû¨Íµ¨ÏÑ±: **Person(ÎßàÏù¥ÌéòÏù¥ÏßÄ) | Coin(Ìè¨Ïù∏Ìä∏) | Tool(Í¥ÄÎ¶¨Ïûê)** Íµ¨Ï°∞.
    - Ïñ∏Ïñ¥ ÏÑ§Ï†ï Î≤ÑÌäºÏùÑ ÎìúÎ°≠Îã§Ïö¥ÏóêÏÑú Ï†úÍ±∞ÌïòÍ≥† **ÎßàÏù¥ÌéòÏù¥ÏßÄ ÌïòÎã®**ÏúºÎ°ú Ïù¥Îèô.
- **ÎßàÏù¥ÌéòÏù¥ÏßÄ**:
    - "OOOÎãò, ÏïàÎÖïÌïòÏÑ∏Ïöî! üëã" ÌòïÌÉúÏùò Í∞úÏù∏ÌôîÎêú Ìó§Îî© Ï†ÅÏö©.
    - Ìè¨Ïù∏Ìä∏ ÏïàÎÇ¥ Î¨∏Íµ¨ Î∞è ÏïÑÏù¥ÏΩò(ÎèôÏ†Ñ) Í∞úÏÑ†.
    - ÌïòÎã®Ïóê ÌÅºÏßÅÌïú Ïñ∏Ïñ¥ ÏÑ§Ï†ï Î≤ÑÌäº Î∞∞Ïπò.

### üü¢ P2 (ÏÑ±Ïû• - 4Ï£º+)

| # | Í∏∞Îä• | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|---|------|------|------|
| 9 | **ÎßÅÌÅ¨Ïû• Îì±Î°ù ÏöîÏ≤≠** | ÏÇ¨Ïö©ÏûêÍ∞Ä ÏóÜÎäî ÎßÅÌÅ¨Ïû• ÏßÅÏ†ë Îì±Î°ù ÏöîÏ≤≠ ("ÍπÄÌè¨ÎßÅÌÅ¨Ïû•Ïù¥ ÏóÜÎÇòÏöî Îì±Î°ùÌï¥Î¥êÏïºÍ≤†Îã§") | `[ ]` |
| 10 | **Í∑∏Î£π Î†àÏä® / ÌïòÌÇ§ Ï∫†ÌîÑ Ï£ºÏµú** | "Ïú§Ï†ïÎãò ÌéÄÎìúÌïòÍ∏∞ + ÌïòÌÇ§Ï∫†ÌîÑÍ∞ôÏùÄÍ≤ÉÎì§ÎèÑ Ïó¨Í∏∞ÏÑú Ï£ºÏµúÍ∞ÄÎêòÎ©¥ Ï¢ãÍ≤†ÎÑ§Ïöî..!" | `[ ]` |
| 11 | **Í≤åÏä§Ìä∏ÎπÑ Í∞ÄÏù¥ÎìúÎùºÏù∏** | "Í≤åÏä§Ìä∏ÎπÑ 3ÎßåÏõêÏù¥ÏÉÅÍ∏ÄÏùÄ Î™ªÏò¨Î¶¨Í≤å ÌÅ¨Í≤å Í≥µÏßÄ" - ÏãúÏû• ÌëúÏ§ÄÌôî Ïú†ÎèÑ | `[ ]` |
| 12 | **Î∏îÎûôÎ¶¨Ïä§Ìä∏ Í¥ÄÎ¶¨** | ÏßÄÍ∞Å/ÎÖ∏Ïáº ÏÉÅÏäµÏûêÎ•º Ïö¥ÏòÅÏßÑÏù¥ Ï≤¥ÌÅ¨ÌïòÍ≥† Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÎäî Í∏∞Îä• | `[ ]` |

### üîµ P3 (Í≤ÄÏ¶ùÎê® - Ïú†ÏßÄ)

| # | Í∏∞Îä• | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|---|------|------|------| 
| ‚úÖ | **Ïπ¥Ïπ¥Ïò§ Î°úÍ∑∏Ïù∏** | "Í∞ÄÏûÖÌïÑÏöîÏóÜÏù¥ Ïπ¥ÌÜ°ÏúºÎ°ú Î°úÍ∑∏Ïù∏" | `[x]` |
| ‚úÖ | **Ïã§ÏãúÍ∞Ñ Ïã†Ï≤≠Ïûê Ïàò** | "Í∑∏Í≤å Ï†úÏùº ÌïµÏã¨Ïù∏ÎìØÌï¥Ïöî" / "Ïã†Ï≤≠ÏûêÏàòÎèÑ Î™®ÏßëÏûê ÏûÖÏû•ÏóêÏÑ† Ìé∏Î¶¨ÌïòÍ≥†" | `[x]` |
| ‚úÖ | **Í¥ÄÎ¶¨Ïûê Ïã†Ï≤≠/ÏäπÏù∏** | "Ïö∞Ï∏°ÏÉÅÎã®Ïù¥Î¶Ñ Î©îÎâ¥ÎàÑÎ•¥Î©¥ Í¥ÄÎ¶¨Ïûê Ïã†Ï≤≠Î≤ÑÌäºÏûàÍ≥† Í∑∏Í±∞ Î∞îÎ°ú Ï≤òÎ¶¨ÎêòÍ±∞Îì†Ïöî" | `[x]` |
| ‚úÖ | **ÏÉÅÌô©Ìåê UI** | "ÎßàÏπò ÏÉÅÌô©Ìåê Í∞ôÏïÑÏÑú Ï¢ãÎÑ§Ïöî ^^" | `[x]` |

---

## üö® Í≤∞Ï†ú/ÌôòÎ∂à/ÎÖ∏Ïáº Í¥ÄÎ¶¨ - Pain Point & Ìï¥Í≤∞ Î∞©Ïïà

> 2026.01.15 ÏÇ¨Ïö©Ïûê ÌîºÎìúÎ∞± Í∏∞Î∞ò. ÌòÑÏû¨ **ÏÇ¨ÏóÖÏûê Îì±Î°ù ÎØ∏ÎπÑ**Î°ú Í≤∞Ï†ú Î™®Îìà Ïó∞Îèô Î∂àÍ∞Ä.

### üí¢ ÌòÑÏû¨ Pain Points

| Î¨∏Ï†ú | ÏÉÅÏÑ∏ |
|------|------|
| **ÎãπÏùº Ï∑®ÏÜå ÎÖ∏Ïáº** | "Ïö¥ÏòÅÏßÑÏù¥ Ï†úÏùº Í≥®Î®∏Î¶¨ ÏïÑÌîàÎ∂ÄÎ∂ÑÏù¥ Í∑∏Í±∞ÏòàÏöî. Ïò®Îã§Í≥† ÌñàÎã§Í∞Ä ÎãπÏùºÎåÄÎ∂ÄÎ∂ÑÏ†ÄÎÖÅÏö¥ÎèôÏù∏Îç∞ Î™áÏãúÍ∞ÑÏ†ÑÏóê Í∞ëÏûêÍ∏∞ Î™ªÍ∞ÄÏöî Ìï¥Î≤ÑÎ¶¨Î©¥" |
| **ÌîåÎ†àÏù¥Ïñ¥ Íµ¨ÌïòÍ∏∞ Ïñ¥Î†§ÏõÄ** | "ÌîåÎ†àÏù¥Ïñ¥ Íµ¨Ìï†ÏãúÍ∞ÑÎèÑ ÏóÜÍ≥† ÎèàÎèÑ ÏïàÎ≥¥ÎÇ¥Í≥†" |
| **ÏÑ†ÏûÖÍ∏à ÏóÜÎäî Ïã†Ï≤≠** | "Í∑∏ÎûòÏÑú ÎåÄÎ∂ÄÎ∂Ñ ÏöîÏ¶òÏùÄ Í∑∏ÎûòÎèÑ Ïã†Ï≤≠Ìï†Îïå ÏÑ†ÏûÖÍ∏àÏùÑ Î∞õÎäî Ï∂îÏÑ∏Ïù¥Í∏¥ÌïúÎç∞" |
| **ÌôòÎ∂à Ï†ïÏ±Ö Î∂ÄÏû¨** | "ÎãπÏùºÏ∑®ÏÜåÎäî ÌôòÎ∂àÏïàÎêòÎèÑÎ°ù / Ï†ÑÎÇ†ÍπåÏßÄÎäî ÌôòÎ∂àÌï¥Ï£ºÍ≥†" |

### ‚úÖ ÌòÑÏû¨ Ï†úÏïΩÏÇ¨Ìï≠ ÎÇ¥ Ìï¥Í≤∞ Î∞©Ïïà

#### 1. üè∑Ô∏è ÌôòÎ∂à Ï†ïÏ±Ö Î™ÖÏãú ÏãúÏä§ÌÖú (Í∞úÎ∞ú Í∞ÄÎä•)
```
- Í≤ΩÍ∏∞ ÏÉùÏÑ± Ïãú "ÌôòÎ∂à Ï†ïÏ±Ö" ÌïÑÎìú Ï∂îÍ∞Ä (Ïòà: "ÎãπÏùºÏ∑®ÏÜå ÌôòÎ∂àÎ∂àÍ∞Ä, Ï†ÑÎÇ†ÍπåÏßÄ 100% ÌôòÎ∂à")
- Í≤ΩÍ∏∞ ÏÉÅÏÑ∏ ÌéòÏù¥ÏßÄÏóê Ï†ïÏ±Ö Î™ÖÌôïÌûà ÌëúÏãú
- Ï∞∏Í∞Ä Ïã†Ï≤≠ Ïãú Ï†ïÏ±Ö ÎèôÏùò Ï≤¥ÌÅ¨Î∞ïÏä§
```

#### 2. üìã Î∏îÎûôÎ¶¨Ïä§Ìä∏/Ïã†Î¢∞ÎèÑ ÏãúÏä§ÌÖú (Í∞úÎ∞ú Í∞ÄÎä•)
```
- Ïö¥ÏòÅÏßÑ Ï†ÑÏö© Î©îÎ™® Í∏∞Îä•: ÌäπÏ†ï ÏÇ¨Ïö©ÏûêÏóê ÎåÄÌïú ÎπÑÍ≥µÍ∞ú Î©îÎ™® ("ÎÖ∏Ïáº Ïù¥Î†• 2Ìöå" Îì±)
- Ï∞∏Í∞ÄÏûê Î™©Î°ùÏóê Ïö¥ÏòÅÏßÑÏóêÍ≤åÎßå Î≥¥Ïù¥Îäî ‚ö†Ô∏è ÏïÑÏù¥ÏΩò ÌëúÏãú
- Ï†ÑÏ≤¥ Í≥µÍ∞ú X, Ïö¥ÏòÅÏßÑÎÅºÎ¶¨Îßå Í≥µÏú†ÎêòÎäî Ï†ïÎ≥¥
```

#### 3. üíµ ÏûÖÍ∏à ÌôïÏù∏ ÏãúÏä§ÌÖú Í∞ïÌôî (Í∞úÎ∞ú Í∞ÄÎä•)
```
- "ÏûÖÍ∏àÌôïÏù∏" ÏÉÅÌÉúÍ∞Ä ÎêòÏñ¥ÏïºÎßå "Ï∞∏Í∞Ä ÌôïÏ†ï" Ï≤òÎ¶¨
- ÎØ∏ÏûÖÍ∏àÏûêÎäî Î≥ÑÎèÑ ÏÉâÏÉÅ/ÏÉÅÌÉúÎ°ú ÌëúÏãú (ÌòÑÏû¨ÎèÑ ÏùºÎ∂Ä Íµ¨ÌòÑ)
- Í≤ΩÍ∏∞ XÏãúÍ∞Ñ Ï†Ñ ÎØ∏ÏûÖÍ∏àÏûê ÏûêÎèô ÏïåÎ¶º Î∞úÏÜ°
```

#### 4. ‚è∞ ÎßâÌåê Ìï†Ïù∏Í∞Ä Î™®Ïßë (Í∞úÎ∞ú Í∞ÄÎä•)
```
- Í≤ΩÍ∏∞ ÎãπÏùº XÏãúÍ∞Ñ Ï†ÑÎ∂ÄÌÑ∞ "Í∏âÎ™®Ïßë" ÏÉÅÌÉú ÌôúÏÑ±Ìôî
- Ìï†Ïù∏Í∞Ä ÌëúÏãú Í∏∞Îä• (ÏõêÍ∞Ä 30,000Ïõê ‚Üí Ìï†Ïù∏Í∞Ä 20,000Ïõê)
- Í∏âÌïòÍ≤å Ïò¨ Ïàò ÏûàÎäî ÏÇ¨Îûå Ïú†ÎèÑ
```

#### 5. üìä Ïã†Ï≤≠Ïûê ÌÜµÍ≥Ñ/Ïù¥Î†• (Í∞úÎ∞ú Í∞ÄÎä•)
```
- ÏÇ¨Ïö©ÏûêÎ≥Ñ Ï∞∏Í∞Ä Ïù¥Î†• Ï°∞Ìöå (Ï∑®ÏÜåÏú®, ÎÖ∏ÏáºÏú®)
- Ïö¥ÏòÅÏßÑÏóêÍ≤åÎßå Î≥¥Ïù¥Îäî Ïã†Î¢∞ÎèÑ Ï†êÏàò
- Ïã†Í∑ú Í∞ÄÏûÖÏûê vs Í∏∞Ï°¥ Ï∞∏Ïó¨Ïûê Íµ¨Î∂Ñ ÌëúÏãú
```

### üîÆ Ïû•Í∏∞Ï†Å Ìï¥Í≤∞ (ÏÇ¨ÏóÖÏûê Îì±Î°ù ÌõÑ)

| Í∏∞Îä• | ÏÑ§Î™Ö |
|------|------|
| **Ïò®ÎùºÏù∏ Í≤∞Ï†ú Ïó∞Îèô** | ÌÜ†Ïä§/Ïπ¥Ïπ¥Ïò§ÌéòÏù¥ Îì± PG Ïó∞ÎèôÏúºÎ°ú ÏÑ†Í≤∞Ï†ú Ï≤òÎ¶¨ |
| **ÏûêÎèô ÌôòÎ∂à ÏãúÏä§ÌÖú** | Ï∑®ÏÜå ÏãúÏ†êÏóê Îî∞Îùº ÏûêÎèô ÌôòÎ∂àÎ•† Ï†ÅÏö© |
| **Ï†ïÏÇ∞ ÏãúÏä§ÌÖú** | ÎèôÌò∏Ìöå Ïö¥ÏòÅÏ∏°Ïóê ÏàòÏàòÎ£å Ï†úÏô∏ ÌõÑ Ï†ïÏÇ∞ |
| **ÏàòÏàòÎ£å Î™®Îç∏** | "Ïù¥Ïö©ÏûêÎì§Ïù¥ Îõ∞ÎäîÏÇ¨ÎûåÎì§ÏùÄ ÏàòÏàòÎ£å Ï≤úÏõêÏî© Î∞õÏúºÎ©¥Îê†Í±∞ÌÉÄÍ≥† Îê†Í±∞Í∞ôÍ≥†" |

---

### üí° Ï∂îÍ∞Ä ÏïÑÏù¥ÎîîÏñ¥ (ÎØ∏Îûò)

| ÏïÑÏù¥ÎîîÏñ¥ | Ï∂úÏ≤ò |
|----------|------|
| Ïö¥ÏòÅÏûê ÏûêÎ∞úÏ†Å Îì±Î°ù Î∂ÑÏúÑÍ∏∞ Ï°∞ÏÑ± | "ÌïµÏã¨ÏùÄ Ïö¥ÏòÅÏûêÎ∂ÑÎì§Ïù¥ Ïù¥ Ïñ¥ÌîåÎ°úÏò§ÏÖîÏÑú ÏûêÎ∞úÏ†ÅÏúºÎ°ú Îì±Î°ùÌïòÎäî Î∂ÑÏúÑÍ∏∞Î•º ÎßåÎì§Ïñ¥ÏïºÌïòÎäîÎç∞" |
| ÏÜåÎ¨∏ Î∞îÏù¥Îü¥ Ï†ÑÎûµ | "Í∑ºÎç∞ ÏÜåÎ¨∏ÏùÄÍ∏àÎ∞©ÎÇ†Í±∞ÏòàÏöî" / "Ïç®Î≥∏ÏÇ¨ÎûåÎì§Ïù¥ Ìé∏ÌïòÎ©¥ Ïì∏ÎìØ" |
| ÌïúÎ™Ö Îãπ Í∞ÄÏπò Ï†úÍ≥µ | "Îî± ÌïúÎ™ÖÎßå ÌîåÎû´ÌèºÏóê Îì§Ïñ¥ÏôÄÎèÑ Í∞ÄÏπòÎ•º ÎäêÎÇÑ Ïàò ÏûàÏùÑÎßåÌïú Í±∞ ÌïúÍ∞úÍ∞Ä Îçî ÏûàÏúºÎ©¥ Ï¢ãÏùÑÍ≤ÉÍ∞ôÏùÄÎç∞Ïöî" |
| ÎèÑÎ©îÏù∏ Î≥ÄÍ≤Ω | "ÎèÑÎ©îÏù∏ Ï°∞Í∏à Í¥úÏ∞ÆÏïÑÎ≥¥Ïù¥Îäî Í≤ÉÏúºÎ°ú Î≥ÄÍ≤ΩÌïòÍ≥† ÌïòÎ©¥" |
| ÏàòÏàòÎ£å Ïã¨Î¶¨Ï†Å Ï†ÄÌï≠ ÎÇÆÏ∂§ | "Ï≤òÏùåÎ∂ÄÌÑ∞ ÏàòÏàòÎ£åÎ•º Îî±Ï†ïÌï¥ÏÑú Î∞õÏïÑÏïºÏßÄ ÏïÑÎãàÎ©¥ Î¨¥Î£åÎ°ú Ïì∞Îã§Í∞Ä ÎÇòÏ§ëÏóê ÎèàÎÇ¥Îùº Í∑∏Îü¨Î©¥Î∞òÍ∞êÏùÑ ÏÇ¥ÌÖåÎãà" |

---

### üìã Í∞úÎ∞ú ÏßÑÌñâ Î∞©Ïãù

1. Í∞Å ÌîºÏ≥ê ÏûëÏóÖ ÏãúÏûë Ï†Ñ `ÏÉÅÌÉú` Î•º `[/]` Î°ú Î≥ÄÍ≤Ω
2. ÏûëÏóÖ ÏôÑÎ£å Ïãú `[x]` Î°ú Î≥ÄÍ≤Ω
3. Í¥ÄÎ†® Ïä§ÌÇ§Îßà Î≥ÄÍ≤ΩÏùÄ `sql/` ÎîîÎ†âÌÜ†Î¶¨Ïóê Î≤ÑÏ†ÑÎ≥ÑÎ°ú Í∏∞Î°ù (Ïòà: `v11_ÏÉàÍ∏∞Îä•.sql`)
4. i18n ÌÇ§Îäî `messages/ko.json`, `messages/en.json` ÎèôÏãú Ï∂îÍ∞Ä

---

## üìÅ SQL Ïä§ÌÇ§Îßà ÌååÏùº Íµ¨Ï°∞

Î™®Îì† Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§Îßà ÌååÏùºÏùÄ `sql/` ÎîîÎ†âÌÜ†Î¶¨Ïóê Î≤ÑÏ†Ñ ÏàúÏÑúÎåÄÎ°ú Ï†ïÎ¶¨ÎêòÏñ¥ ÏûàÏäµÎãàÎã§.

| ÌååÏùºÎ™Ö | ÏÑ§Î™Ö |
|--------|------|
| `v1_schema.sql` | Ï¥àÍ∏∞ Ïä§ÌÇ§Îßà (profiles, matches, participants, rinks) |
| `v2_schema_changes.sql` | ÎßÅÌÅ¨ ÌÖåÏù¥Î∏î ÌôïÏû•, ÌÅ¥ÎüΩ ÏãúÏä§ÌÖú Ï∂îÍ∞Ä |
| `v3_schema_changes_v2.sql` | max_skaters/max_goalies ÌÜµÌï© |
| `v4_schema_clubs_v2.sql` | ÎèôÌò∏Ìöå ÏãúÏä§ÌÖú Í∞úÏÑ† |
| `v5_schema_clubs_v3.sql` | ÎèôÌò∏Ìöå ÏãúÏä§ÌÖú Ï∂îÍ∞Ä Í∞úÏÑ† |
| `v6_rink_updates.sql` | ÎßÅÌÅ¨ Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏ |
| `v7_schema_push.sql` | Ìë∏Ïãú ÏïåÎ¶º Ïä§ÌÇ§Îßà |
| `v8_schema_points_step1.sql` | Ìè¨Ïù∏Ìä∏ ÏãúÏä§ÌÖú ENUM Ï∂îÍ∞Ä (Î®ºÏ†Ä Ïã§Ìñâ) |
| `v9_schema_points_step2.sql` | Ìè¨Ïù∏Ìä∏ ÏãúÏä§ÌÖú ÌÖåÏù¥Î∏î/RLS/Ìï®Ïàò |
| `v10_schema_superuser_fix.sql` | SuperUser RLS Í∂åÌïú Ï∂îÍ∞Ä |

**ÏÉà Ïä§ÌÇ§Îßà Ï∂îÍ∞Ä Ïãú**: `v{Îã§ÏùåÎ≤àÌò∏}_{ÏÑ§Î™Ö}.sql` ÌòïÏãùÏúºÎ°ú ÌååÏùº ÏÉùÏÑ±

---

## üí∞ Ìè¨Ïù∏Ìä∏ ÏãúÏä§ÌÖú (Point System)

> 2026.01.19 Íµ¨ÌòÑ ÏôÑÎ£å. ÏÇ¨ÏóÖÏûêÎì±Î°ù Ï†ÑÍπåÏßÄ ÏßÅÏ†ë Í≤∞Ï†ú Î™®Îìà ÎåÄÏã† Ìè¨Ïù∏Ìä∏ Ï∂©Ï†Ñ ÏãúÏä§ÌÖúÏúºÎ°ú Ïö¥ÏòÅ.

### ÏãúÏä§ÌÖú Í∞úÏöî

```
ÏÇ¨Ïö©Ïûê ‚Üí Ìè¨Ïù∏Ìä∏ Ï∂©Ï†Ñ ÏöîÏ≤≠ ‚Üí ÏùÄÌñâ Ïù¥Ï≤¥ ‚Üí SuperUser ÌôïÏù∏ ‚Üí Ìè¨Ïù∏Ìä∏ Ï†ÅÎ¶Ω
ÏÇ¨Ïö©Ïûê ‚Üí Í≤ΩÍ∏∞ Ï∞∏Í∞Ä ‚Üí Ìè¨Ïù∏Ìä∏ Ï∞®Í∞ê
ÏÇ¨Ïö©Ïûê ‚Üí Í≤ΩÍ∏∞ Ï∑®ÏÜå ‚Üí ÌôòÎ∂à Ï†ïÏ±ÖÏóê Îî∞Îùº Ìè¨Ïù∏Ìä∏ ÌôòÎ∂à
```

### Ï£ºÏöî ÌÖåÏù¥Î∏î

| ÌÖåÏù¥Î∏î | ÏÑ§Î™Ö |
|--------|------|
| `profiles.points` | ÏÇ¨Ïö©Ïûê Î≥¥Ïú† Ìè¨Ïù∏Ìä∏ |
| `matches.entry_points` | Í≤ΩÍ∏∞ Ï∞∏Í∞ÄÎπÑ (Ìè¨Ïù∏Ìä∏) |
| `point_transactions` | Ìè¨Ïù∏Ìä∏ Í±∞Îûò ÎÇ¥Ïó≠ (charge/use/refund/admin_adjustment) |
| `point_charge_requests` | Ìè¨Ïù∏Ìä∏ Ï∂©Ï†Ñ ÏöîÏ≤≠ (pending/confirmed/rejected/canceled) |
| `platform_settings` | ÌîåÎû´Ìèº ÏÑ§Ï†ï (bank_account, refund_policy) |

### Ïó≠Ìï† (Roles)

| Ïó≠Ìï† | Í∂åÌïú |
|------|------|
| `user` | ÏùºÎ∞ò ÏÇ¨Ïö©Ïûê (Í∏∞Î≥∏) |
| `admin` | ÎèôÌò∏Ìöå Í¥ÄÎ¶¨Ïûê (Í≤ΩÍ∏∞/ÎßÅÌÅ¨/ÎèôÌò∏Ìöå CRUD) |
| `superuser` | ÌîåÎû´Ìèº Í¥ÄÎ¶¨Ïûê (admin Í∂åÌïú + Ìè¨Ïù∏Ìä∏ Ï∂©Ï†Ñ ÌôïÏù∏ + ÌîåÎû´Ìèº ÏÑ§Ï†ï) |

> ‚ö†Ô∏è **Ï§ëÏöî**: `superuser`Îäî `admin`Ïùò ÏÉÅÏúÑ Í∞úÎÖêÏûÖÎãàÎã§.
> - **superuserÎäî adminÏù¥ Ìï† Ïàò ÏûàÎäî Î™®Îì† ÏûëÏóÖÏùÑ ÏàòÌñâÌï† Ïàò ÏûàÏäµÎãàÎã§.**
> - ÏΩîÎìúÏóêÏÑú Í∂åÌïú Ï≤¥ÌÅ¨ Ïãú Î∞òÎìúÏãú `superuser`ÎèÑ Ìè¨Ìï®Ìï¥Ïïº Ìï©ÎãàÎã§.
> - ÏòàÏãú: `if (role !== "admin" && role !== "superuser")` ÎòêÎäî `if (!["admin", "superuser"].includes(role))`
> - superuser Ï†ÑÏö© Í∏∞Îä•(Ìè¨Ïù∏Ìä∏ Ï∂©Ï†Ñ ÌôïÏù∏ Îì±)ÏùÄ Î≥ÑÎèÑÎ°ú `checkIsSuperUser()`Î°ú Ï≤¥ÌÅ¨Ìï©ÎãàÎã§.

### Ï£ºÏöî ÌååÏùº

| Í≤ΩÎ°ú | ÏÑ§Î™Ö |
|------|------|
| `src/app/actions/points.ts` | Ìè¨Ïù∏Ìä∏ Ï°∞Ìöå/Ï∂©Ï†Ñ ÏöîÏ≤≠/ÌûàÏä§ÌÜ†Î¶¨ ÏÑúÎ≤Ñ Ïï°ÏÖò |
| `src/app/actions/superuser.ts` | SuperUser Ï†ÑÏö© ÏÑúÎ≤Ñ Ïï°ÏÖò (Ï∂©Ï†Ñ ÌôïÏù∏/Í±∞Î∂Ä, ÏÑ§Ï†ï Í¥ÄÎ¶¨) |
| `src/app/[locale]/(public)/mypage/points/page.tsx` | ÏÇ¨Ïö©Ïûê Ìè¨Ïù∏Ìä∏ ÌûàÏä§ÌÜ†Î¶¨ ÌéòÏù¥ÏßÄ |
| `src/app/[locale]/(public)/mypage/points/charge/page.tsx` | Ìè¨Ïù∏Ìä∏ Ï∂©Ï†Ñ Ïã†Ï≤≠ ÌéòÏù¥ÏßÄ |
| `src/app/[locale]/(admin)/admin/settings/page.tsx` | SuperUser ÌîåÎû´Ìèº ÏÑ§Ï†ï ÌéòÏù¥ÏßÄ |
| `src/app/[locale]/(admin)/admin/charge-requests/page.tsx` | SuperUser Ï∂©Ï†Ñ ÏöîÏ≤≠ Í¥ÄÎ¶¨ |
| `src/components/charge-form.tsx` | Ìè¨Ïù∏Ìä∏ Ï∂©Ï†Ñ Ìèº (Í≥ÑÏ¢å Î≥µÏÇ¨ Í∏∞Îä• Ìè¨Ìï®) |
| `src/components/settings-form.tsx` | ÌîåÎû´Ìèº ÏÑ§Ï†ï Ìèº (Í≥ÑÏ¢å/ÌôòÎ∂àÏ†ïÏ±Ö) |

### ÌôòÎ∂à Ï†ïÏ±Ö

- SuperUserÍ∞Ä `/admin/settings`ÏóêÏÑú ÏÑ§Ï†ï
- Ïòà: 24ÏãúÍ∞Ñ Ï†Ñ 100%, 6ÏãúÍ∞Ñ Ï†Ñ 50%, ÎãπÏùº 0%
- `platform_settings.refund_policy`Ïóê JSONBÎ°ú Ï†ÄÏû•
- Í≤ΩÍ∏∞ Ï∑®ÏÜå Ïãú `calculateRefundPercent()` Ìï®ÏàòÎ°ú Í≥ÑÏÇ∞

### SuperUser ÏÑ§Ï†ï Î∞©Î≤ï

```sql
-- Supabase SQL EditorÏóêÏÑú Ïã§Ìñâ
UPDATE profiles SET role = 'superuser' WHERE email = 'your-email@example.com';
```

---

## üìã TODO 2026.01.20 - ÏÇ¨Ïö©Ïûê ÌîºÎìúÎ∞± Í∏∞Î∞ò Íµ¨ÌòÑ Í≥ÑÌöç

> Ï°∞Ïú§Ï†ïÎãò(ÏïÑÏù¥Ïä§ÌïòÌÇ§) Ïπ¥Ïπ¥Ïò§ÌÜ° ÌîºÎìúÎ∞± Í∏∞Î∞ò. "Ïö¥ÏòÅÏûê+Ï∞∏Í∞ÄÏûê ÎëòÎã§ Ìé∏Ìï¥ÏßÄÎäî Íµ¨Ï°∞" Î™©Ìëú.

### üî¥ P0. Ïã†Ï≤≠ ÌîåÎ°úÏö∞ Í∞úÏÑ† (ÌïµÏã¨!) - üöß ÏßÑÌñâÏ§ë

**ÌòÑÏû¨ Î¨∏Ï†úÏ†ê:**
```
ÎåÄÍ¥Ä Î∞úÍ≤¨ ‚Üí Ïã†Ï≤≠ ÌÅ¥Î¶≠ ‚Üí Ìè¨Ïù∏Ìä∏ Î∂ÄÏ°± ‚Üí Ï∂©Ï†Ñ ÌéòÏù¥ÏßÄ ‚Üí Ïù¥Ï≤¥ ‚Üí Í¥ÄÎ¶¨Ïûê ÌôïÏù∏ ÎåÄÍ∏∞ ‚Üí Îã§Ïãú ÎåÄÍ¥Ä Ï∞æÏïÑÏÑú Ïã†Ï≤≠
= "Î≤àÍ±∞Î°úÏõÄ + Ïù¥ÌÉà" Ïö∞Î†§
```

**Í∞úÏÑ† Î™©Ìëú (Ìã∞Î®∏Îãà/ÏÑ†Î∂àÏπ¥Îìú Í∞úÎÖê):**
```
Ïã†Ï≤≠ ÌÅ¥Î¶≠ ‚Üí Ìè¨Ïù∏Ìä∏ Î∂ÄÏ°± Ïãú Ï∂©Ï†Ñ ‚Üí Î∞îÎ°ú Ïã†Ï≤≠ ÏôÑÎ£å (ÎåÄÍ∏∞ ÏÉÅÌÉú) ‚Üí Í¥ÄÎ¶¨Ïûê ÌôïÏù∏ ‚Üí ÌôïÏ†ï + Ïù∏ÏõêÏàò Ïπ¥Ïö¥Ìä∏
= "ÌïúÎ≤àÎßå Ïã†Ï≤≠ÌïòÎ©¥ ÎÅù"
```

#### ‚úÖ ÏôÑÎ£åÎêú Íµ¨ÌòÑ:

| ÌååÏùº | Î≥ÄÍ≤Ω ÎÇ¥Ïö© | ÏÉÅÌÉú |
|------|----------|------|
| `sql/v11_participant_payment_flow.sql` | `pending_payment` ENUM Ï∂îÍ∞Ä + profiles Ïª¨Îüº ÌôïÏû• | `[x]` |
| `src/app/actions/match.ts` joinMatch | Ìè¨Ïù∏Ìä∏ Ï∂©Î∂Ñ‚Üíconfirmed, Î∂ÄÏ°±‚Üípending_payment Î∂ÑÍ∏∞ | `[x]` |
| `src/app/actions/match.ts` cancelJoin | pending_paymentÎ©¥ ÌôòÎ∂à ÏóÜÏù¥ ÏÇ≠Ï†ú | `[x]` |
| `src/app/actions/cache.ts` | Ïù∏ÏõêÏàò Ïπ¥Ïö¥Ìä∏ `confirmed`Îßå Ìè¨Ìï® (pending_payment Ï†úÏô∏) | `[x]` |
| `src/app/actions/superuser.ts` | `confirmParticipantPayment`, `cancelPendingParticipant`, `getPendingPaymentParticipants` Ìï®Ïàò Ï∂îÍ∞Ä | `[x]` |
| `src/components/match-application.tsx` | `currentStatus` prop Ï∂îÍ∞Ä, pending_paymentÏö© ÎÖ∏ÎûÄÏÉâ UI Ï∂îÍ∞Ä | `[x]` |

#### ‚úÖ ÎÇ®ÏùÄ Íµ¨ÌòÑ (ÏôÑÎ£åÎê®):

| ÌååÏùº | Î≥ÄÍ≤Ω ÎÇ¥Ïö© | ÏÉÅÌÉú |
|------|----------|------|
| `src/app/[locale]/(public)/match/[id]/page.tsx` | 1) Ï∞∏Í∞ÄÏûê ÌïÑÌÑ∞Ïóê pending_payment Ìè¨Ìï® 2) currentStatus prop Ï†ÑÎã¨ 3) Ï∞∏Í∞ÄÏûê Î™©Î°ùÏóê "ÏûÖÍ∏à ÎåÄÍ∏∞" Î∞∞ÏßÄ Ï∂îÍ∞Ä | `[x]` |
| `src/app/[locale]/(admin)/admin/charge-requests/page.tsx` | ÎØ∏ÏûÖÍ∏à Ï∞∏Í∞ÄÏûê ÏÑπÏÖò Ï∂îÍ∞Ä (ÌôïÏù∏/Ï∑®ÏÜå Î≤ÑÌäº) | `[x]` |
| `messages/ko.json`, `messages/en.json` | pending_payment Í¥ÄÎ†® Î≤àÏó≠ Ï∂îÍ∞Ä | `[x]` |
| **SQL Ïã§Ìñâ** | `v11_participant_payment_flow.sql` SupabaseÏóêÏÑú Ïã§Ìñâ ÌïÑÏöî | `[x]` |

#### üîß Ï∂îÍ∞Ä Î≥ÄÍ≤Ω ÏÇ¨Ìï≠:

- `src/app/actions/match.ts`: MatchParticipant.statusÏóê `pending_payment` Ï∂îÍ∞Ä
- `src/app/actions/mypage.ts`: MyMatch.participation.statusÏóê `pending_payment` Ï∂îÍ∞Ä  
- `src/components/admin-participant-list.tsx`: Participant.statusÏóê `pending_payment` Ï∂îÍ∞Ä

---

### üü† P1. ÎåÄÍ∏∞Ïûê ÏãúÏä§ÌÖú (Waitlist)

**ÌïÑÏöîÏÑ±:**
- "10Î™ÖÏù¥ Îî± ÎßûÏ∂∞Ïïº ÌïòÎäîÎç∞ ÏïàÏò§Î©¥ ÏÇ¨ÎûåÏù¥ ÎπÑÏñ¥"
- "Í∑∏ÎûòÏÑú ÎåÄÍ∏∞ÏûêÎì§ÎèÑ ÏûàÏñ¥ÏÑú ÎåÄÍ∏∞ÎèÑ Í±∏ÏàòÏûàÍ≤åÌï¥ÎÜîÏïºÌïòÎäî.."

#### Íµ¨ÌòÑ ÏÉÅÏÑ∏:

| Ìï≠Î™© | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|------|------|------|
| **ÎåÄÍ∏∞Ïûê Ïã†Ï≤≠ Í∏∞Îä•** | Ï†ïÏõê ÎßàÍ∞ê Ïãú "ÎåÄÍ∏∞ Ïã†Ï≤≠" Î≤ÑÌäº ÌëúÏãú | `[x]` |
| **participant.status: waiting** | ÎåÄÍ∏∞Ïûê ÏÉÅÌÉú Ï∂îÍ∞Ä | `[x]` |
| **ÎåÄÍ∏∞Ïûê Î™©Î°ù ÌëúÏãú** | Ïö¥ÏòÅÏûê Î∞è ÏÇ¨Ïö©ÏûêÏóêÍ≤å ÎåÄÍ∏∞Ïûê Î™ÖÎã® ÌëúÏãú | `[x]` |
| **ÏûêÎèô ÏäπÍ≤©** (P2) | Ï∑®ÏÜå Î∞úÏÉù Ïãú ÎåÄÍ∏∞Ïûê ÏûêÎèô ÏäπÍ≤© + ÏïåÎ¶º (ÎÇòÏ§ëÏóê) | `[ ]` |

---

### üü† P2. ÌîÑÎ°úÌïÑ ÏÑ§Ï†ï Í∞ïÏ†úÌôî

**ÏöîÏ≤≠ÏÇ¨Ìï≠:**
- "Ï≤òÏùåÏóê Î°úÍ∑∏Ïù∏ÌïòÏûêÎßàÏûê ÌîÑÎ°úÌïÑ ÏÑ§Ï†ïÌïòÍ∏∞" Î∞îÎ°ú Ìï¥ÎÜìÎäîÍ≤å Ï¢ãÏùÑÍ≤ÉÍ∞ôÍ≥†
- "Í∏∞Î≥∏ÏÑ§Ï†ï Î¨¥Ï°∞Í±¥ Ìï¥ÏïºÌïòÎãàÍπå Í∏∞Î≥∏ÏÑ§Ï†ï ÏïàÎêòÏñ¥ÏûàÏúºÎ©¥Îú®ÎäîÍ±∏Î°ú"
- ÌòÑÏû¨: Í≤ΩÍ∏∞ Ïã†Ï≤≠ ÏãúÏóêÎßå Ïò®Î≥¥Îî© Ïú†ÎèÑ ‚Üí **Í∞úÏÑ†: Î°úÍ∑∏Ïù∏ ÌõÑ Ïñ¥ÎîîÏÑúÎì† Ïò®Î≥¥Îî© ÎØ∏ÏôÑÎ£å Ïãú Ïú†ÎèÑ**

#### ÌïÑÏàò ÌîÑÎ°úÌïÑ Ï†ïÎ≥¥:

| ÌïÑÎìú | ÏÑ§Î™Ö | ÌòÑÏû¨ |
|------|------|------|
| `full_name` | Ïã§Î™Ö (Î≥ÑÎ™ÖÎ≥¥Îã§ Ïã§Î™Ö ÏÑ†Ìò∏) | `[x]` |
| `phone` | Ìú¥ÎåÄÌè∞Î≤àÌò∏ | `[x]` |
| `birth_date` | ÏÉùÎÖÑÏõîÏùº (ÎÇòÏù¥ ÌôïÏù∏Ïö©) | `[x]` |
| `avatar_url` | ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ (ÎÇòÏ§ëÏóê ÎåÄÌôîÏó∞Í≤∞ Ïö©Ïù¥) | `[ ]` (optional) |
| `position` | Ï£ºÌè¨ÏßÄÏÖò (Ïö¥ÏòÅÏßÑ Ï∞∏Í≥†Ïö©) | `[x]` |
| `terms_agreed` | ÏïΩÍ¥Ä ÎèôÏùò (Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë) | `[x]` |

#### Íµ¨ÌòÑ ÏÉÅÏÑ∏:

| Ìï≠Î™© | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|------|------|------|
| **profiles ÌÖåÏù¥Î∏î ÌôïÏû•** | phone, birth_date, terms_agreed Ïª¨Îüº Ï∂îÍ∞Ä | `[x]` |
| **Ïò®Î≥¥Îî© ÌéòÏù¥ÏßÄ ÏàòÏ†ï** | ÌïÑÏàò Ï†ïÎ≥¥ ÏûÖÎ†• Ìèº + ÏïΩÍ¥Ä ÎèôÏùò Ï≤¥ÌÅ¨Î∞ïÏä§ | `[x]` |
| **Ï†ÑÏó≠ Ïò®Î≥¥Îî© Ï≤¥ÌÅ¨** | Î™®Îì† ÌéòÏù¥ÏßÄÏóêÏÑú Ïò®Î≥¥Îî© ÎØ∏ÏôÑÎ£å Ïãú Ïò®Î≥¥Îî© ÌéòÏù¥ÏßÄÎ°ú Î¶¨Îã§Ïù¥Î†âÌä∏ | `[x]` |

---

### üü¢ P3. ÌôòÎ∂à Ï†ïÏ±Ö ÏãúÍ∞Ñ Í∞úÏÑ†

**ÏöîÏ≤≠ÏÇ¨Ìï≠:**
- "24ÏãúÍ∞Ñ Ï†Ñ Î¨¥Î£åÏ∑®ÏÜå Ïù∏Í±∏Î°ú Î≥∏Í±∞Í∞ôÏùÄÎç∞ ÌòπÏãú Í∏∞Ï§ÄÏùÑ Ï†ÑÏùºÏûêÏ†ïÏù¥ÎÇ¥Î°ú Ìï† Ïàò ÏûàÏùÑÍπåÏöî"
- Ïòà: 21Ïùº Ïò§ÌõÑ10Ïãú Í≤ΩÍ∏∞ ‚Üí **20Ïùº ÏûêÏ†ïÍπåÏßÄ** Î¨¥Î£åÏ∑®ÏÜå (24ÏãúÍ∞Ñ Ï†ÑÏù¥Î©¥ 20Ïùº Ïò§ÌõÑ10Ïãú)
- "Ïù¥Í≤ÉÎèÑ Ï¢ãÎÑ§Ïöî Ï†ÄÌù¨ÏûÖÏû•ÏóêÏÑúÎèÑ Í¥ÄÎ¶¨ÌïòÍ∏∞Í∞Ä Ï†ÄÍ≤å Îçî Ìé∏Ìï†ÎìØÏöî"

#### Íµ¨ÌòÑ ÏÉÅÏÑ∏:

| Ìï≠Î™© | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|------|------|------|
| **refund_policy Íµ¨Ï°∞ Î≥ÄÍ≤Ω** | `hoursBeforeMatch` ‚Üí `daysBeforeMatch` ÎòêÎäî `deadlineType: 'midnight'` (ÏΩîÎìú Î†àÎ≤® Ï†ÅÏö©) | `[x]` |
| **ÌôòÎ∂à Í≥ÑÏÇ∞ Ìï®Ïàò ÏàòÏ†ï** | `calculateRefundPercent()` - Í≤ΩÍ∏∞ Ï†ÑÎÇ† ÏûêÏ†ï Í∏∞Ï§ÄÏúºÎ°ú Í≥ÑÏÇ∞ | `[x]` |
| **ÏÑ§Ï†ï UI ÏàòÏ†ï** | Í¥ÄÎ¶¨Ïûê ÏÑ§Ï†ïÏóêÏÑú "XÏùº Ï†Ñ ÏûêÏ†ïÍπåÏßÄ" ÌòïÏãùÏúºÎ°ú ÏûÖÎ†• | `[ ]` |

---

### üü¢ P4. SEO Î∞è ÎèÑÎ©îÏù∏ Î≥ÄÍ≤Ω (Domain Migration)

**ÏöîÏ≤≠ÏÇ¨Ìï≠:**
- "ÎèÑÎ©îÏù∏ÎèÑ https://powerplay.kr/ Î°ú Ïã†Í∑úÎ°ú Î≥ÄÍ≤ΩÌñàÏñ¥"
- Í≤ÄÏÉâÏóîÏßÑ ÏµúÏ†ÅÌôî(SEO) Î∞è OG Ïù¥ÎØ∏ÏßÄ ÍµêÏ≤¥

#### Íµ¨ÌòÑ ÏÉÅÏÑ∏:

| Ìï≠Î™© | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|------|------|------|
| **ÎèÑÎ©îÏù∏ Î≥ÄÍ≤Ω** | ÏΩîÎìú ÎÇ¥ Fallback URL Î≥ÄÍ≤Ω (`pphockey` -> `powerplay.kr`) | `[x]` |
| **SEO ÏÑ§Ï†ï** | `src/app/robots.ts`, `sitemap.ts`, `layout.tsx` ÏóÖÎç∞Ïù¥Ìä∏ | `[x]` |
| **OG Ïù¥ÎØ∏ÏßÄ** | Ïã†Í∑ú ÎîîÏûêÏù∏(ÌïúÍµ≠Ïñ¥ Î∂ÄÏ†ú) Ï†ÅÏö© (`public/og-image.png`) | `[x]` |
| **Îì±Î°ù Í∞ÄÏù¥Îìú** | `SEO_GUIDE.md` Î∞è `layout.tsx` Í≤ÄÏ¶ù ÌÉúÍ∑∏ Ï∂îÍ∞Ä | `[x]` |

### üü¢ P5. ÏïåÎ¶º Ïò®Î≥¥Îî© Î∞è Í∞ÄÏù¥Îìú (Notification Guide)

**ÌïÑÏöîÏÑ±:**
- iOS(iPhone)Îäî PWA(Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä) ÏÉÅÌÉúÏóêÏÑúÎßå Ìë∏Ïãú ÏïåÎ¶º ÏàòÏã† Í∞ÄÎä•.
- ÏÇ¨Ïö©ÏûêÍ∞Ä Ïù¥Î•º Î™®Î•¥Í≥† "Ïôú ÏïåÎ¶ºÏù¥ Ïïà Ïò§ÏßÄ?" Ìï† Ïàò ÏûàÏùå.
- Ï†ëÍ∑ºÏÑ± ÎÜíÏùÄ Í∞ÄÏù¥Îìú ÌïÑÏöî.

#### Íµ¨ÌòÑ ÏÉÅÏÑ∏:

| Ìï≠Î™© | ÏÉÅÏÑ∏ | ÏÉÅÌÉú |
|---|------|------|
| **Í∞ÄÏù¥Îìú Î™®Îã¨** | `NotificationGuideModal`: OS Í∞êÏßÄ(iOS/Android) ÌõÑ ÎßûÏ∂§ ÏïàÎÇ¥(Ìôà ÌôîÎ©¥ Ï∂îÍ∞ÄÎ≤ï Îì±) Ï†úÍ≥µ | `[x]` |
| **Ïò®Î≥¥Îî© Î°úÏßÅ** | `NotificationContext`: ÏµúÏ¥à Î∞©Î¨∏ÏûêÏóêÍ≤å ÏûêÎèô ÌåùÏóÖ, `localStorage`Î°ú Ïû¨ÎÖ∏Ï∂ú Î∞©ÏßÄ | `[x]` |
| **Ï†ëÍ∑ºÏÑ±** | Ìó§Îçî Î©îÎâ¥(`ÏïåÎ¶º ÏÑ§Ï†ï Í∞ÄÏù¥Îìú`) Î∞è ÎßàÏù¥ÌéòÏù¥ÏßÄ(`ÏïåÎ¶º ÏÑ§Ï†ï ÌôïÏù∏`)ÏóêÏÑú Ïñ∏Ï†úÎì† Ïû¨Ìò∏Ï∂ú Í∞ÄÎä• | `[x]` |
| **VAPID ÏÑ§Ï†ï** | `.env`Ïóê `VAPID_SUBJECT` Îì± ÌïÑÏàò ÌÇ§ ÏÑ§Ï†ï Í∞ÄÏù¥Îìú Ï†úÍ≥µ | `[x]` |

### üìå Íµ¨ÌòÑ Ïö∞ÏÑ†ÏàúÏúÑ ÏöîÏïΩ

```
1. [P0] Ïã†Ï≤≠ ÌîåÎ°úÏö∞ Í∞úÏÑ† - "ÌïúÎ≤àÎßå Ïã†Ï≤≠" Ïù¥ ÌïµÏã¨
2. [P1] ÎåÄÍ∏∞Ïûê ÏãúÏä§ÌÖú - Ïö¥ÏòÅÏûê ÌïÑÏàò Í∏∞Îä•
3. [P2] ÌîÑÎ°úÌïÑ Í∞ïÏ†úÌôî - UX Í∞úÏÑ† + Í∞úÏù∏Ï†ïÎ≥¥ ÏàòÏßë
4. [P3] ÌôòÎ∂à Ï†ïÏ±Ö ÏãúÍ∞Ñ - Í¥ÄÎ¶¨ Ìé∏ÏùòÏÑ±
```

### üéØ ÌååÏõåÌîåÎ†àÏù¥ ÎπÑÏ†Ñ (ÌîºÎìúÎ∞±ÏóêÏÑú Ï∂îÏ∂ú)

> **ÌååÏõåÌîåÎ†àÏù¥Îäî ÏïÑÏù¥Ïä§ÌïòÌÇ§ ÎåÄÍ¥ÄÏö¥ÏòÅÏûêÍ∞Ä Î™®Ïßë¬∑Ï†ïÏÇ∞¬∑Î™ÖÎã® Í¥ÄÎ¶¨Î•º ÏûêÎèôÌôîÌïòÍ≥†,  
> Ï∞∏Í∞ÄÏûêÎäî Ïã†Ï≤≠Î∂ÄÌÑ∞ Í≤∞Ï†úÍπåÏßÄ Ìïú Î≤àÏóê ÎÅùÎÇº Ïàò ÏûàÎäî ÏïÑÏù¥Ïä§ÌïòÌÇ§ Ïö¥ÏòÅ ÌîåÎû´Ìèº**

**ÌïòÌÇ§Îü¨Î∏åÎ∞¥Îìú (Í∏∞Ï°¥):** Í≥µÏßÄ ‚Üí Í∞úÍ∞úÏù∏Ïó∞ÎùΩ ‚Üí ÏûÖÍ∏àÌôïÏù∏ ‚Üí Î™ÖÎã®ÏàòÏ†ï ‚Üí Ïû¨Í≥µÏßÄ = ÏÇ¨Îûå Í∞àÏïÑÏÑú Íµ¥Î¶¨Îäî Íµ¨Ï°∞  
**ÌååÏõåÌîåÎ†àÏù¥ (Î™©Ìëú):** Ïã†Ï≤≠ ‚Üí Í≤∞Ï†ú ‚Üí ÌôïÏ†ï ‚Üí ÏûêÎèôÏπ¥Ïö¥Ìä∏ ÎßàÍ∞ê = ÌîåÎû´ÌèºÏù¥ ÏùºÌïòÎäî Íµ¨Ï°∞

---

## üìù Agent Handover Log

> **Latest work log for the next agent.**

<!-- Add new logs below this line -->

### [2026-02-02] Setup Agent Handover Workflow
- **Summary**: Established the Agent Handover Protocol to ensure context continuity between sessions.
- **Changes**:
  - Created `.agent/workflows/agent_handover.md`: Defines the protocol.
  - Updated `AGENTS.md`: Added the "Agent Handover Log" section.
### [2026-02-02] Update PWA Install Prompt with TTL
- **Summary**: Modified the PWA install prompt to reappear after 1 hour if dismissed, instead of being permanently hidden.
- **Changes**:
  - Modified `src/components/install-prompt.tsx`:
    - Added `DISMISS_TTL` (1 hour).
    - Updated dismissal check to compare current time with stored timestamp.
    - Updated `handleDismiss` and installation handler to store `Date.now()` instead of `"true"`.
- **Next Steps**: Monitor user feedback to see if the prompt is too intrusive or helpful.

